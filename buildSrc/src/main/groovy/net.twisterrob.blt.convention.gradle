group = "net.twisterrob.travel"

tasks.withType(JavaCompile).configureEach {
	options.encoding = "UTF-8"
	options.compilerArgs += [
			"-Werror",
			"-Xmaxwarns", "1000",
			"-Xmaxerrs", "1000",
			"-Xlint:-deprecation",
			"-Xlint:unchecked",
	]
}

if (project.gradle.startParameter.isConfigurationCacheRequested()) {
	// TODEL https://github.com/TWiStErRob/net.twisterrob.gradle/issues/511
	project.plugins.withId("com.android.application") {
		project.VCS.setCurrent$twister_convention_versioning(new net.twisterrob.gradle.vcs.VCSExtension() {
			@Override boolean isAvailableQuick() { return false }
			@Override boolean isAvailable() { return isAvailableQuick() }
			@Override String getRevision() { return "no VCS" }
			@Override int getRevisionNumber() { return 0 }
			@Override FileCollection files(Project project) { return project.files() }
		})
	}
}
