if (project.hasProperty('libFromSources')) {
	evaluationDependsOn ':twister-lib-android'
}
//name = 'Better London Travel Android App'
apply plugin: 'com.android.application'
apply plugin: 'net.twisterrob.android-app'

dependencies {
	if (project.hasProperty('libFromSources')) {
		compile project(':twister-lib-android')
	} else {
		compile('net.twisterrob:twister-lib-android:1.0-SNAPSHOT')
	}
	compile(project(':Shared')) {
		exclude module: 'android-polyfill'
	}
	// TOFIX otherwise VariantFragment descendants don't see Fragment and its methods (Cannot access FQCN errors in IDEA)
	def supportVersion = '24.0.0'
	compile 'com.google.android.gms:play-services:4.0.30'
	compile "com.android.support:support-v4:${supportVersion}"
	compile "com.android.support:appcompat-v7:${supportVersion}"
	compile "com.android.support:design:${supportVersion}"
//	compile "com.android.support:cardview-v7:${supportVersion}"
//	compile "com.android.support:recyclerview-v7:${supportVersion}"
	testCompile('junit:junit:4.12') {
		exclude module: 'hamcrest'
		exclude module: 'hamcrest-core'
	}
	testCompile('org.hamcrest:hamcrest-junit:2.0.0.0') {
		exclude module: 'junit'
	}
}

android {
	compileSdkVersion "Google Inc.:Google APIs:23"
	defaultConfig {
		applicationId 'net.twisterrob.blt'
		version {
			versionFile = null
			major = 1
		}
	}
	buildTypes {
		// STOPSHIP Maps API v1 was deprecated 2012: https://developers.google.com/maps/documentation/android-api/v1/
		deprecated {
			initWith debug
			applicationIdSuffix '.android'
		}
		release {
			minifyEnabled false
		}
	}
	sourceSets {
		// STOPSHIP figure out another way
		main.java.srcDir 'src/main/hack'
	}
}
